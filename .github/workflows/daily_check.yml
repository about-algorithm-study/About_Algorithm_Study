# .github/workflows/debug_check.yml
name: ðŸ” Debug Check

on:
  workflow_dispatch:  # ìˆ˜ë™ ì‹¤í–‰ë§Œ
    
jobs:
  debug-environment:
    runs-on: ubuntu-latest
    
    steps:
    - name: ðŸ“¥ ì²´í¬ì•„ì›ƒ
      uses: actions/checkout@v4
      with:
        token: ${{ secrets.GITHUB_TOKEN }}
        
    - name: ðŸ” í™˜ê²½ ì •ë³´ í™•ì¸
      run: |
        echo "ðŸ” GitHub Actions í™˜ê²½ ë””ë²„ê¹…"
        echo "================================"
        echo "ðŸ“‚ í˜„ìž¬ ìž‘ì—… ë””ë ‰í† ë¦¬: $(pwd)"
        echo "ðŸ“‚ ë””ë ‰í† ë¦¬ ë‚´ìš©:"
        ls -la
        echo ""
        echo "ðŸ“ ì „ì²´ íŒŒì¼ êµ¬ì¡° (ê¹Šì´ 3):"
        find . -maxdepth 3 -type f | sort
        echo ""
        echo "ðŸ“„ README.md íŒŒì¼ë“¤ ì°¾ê¸°:"
        find . -name "README.md" -type f
        echo ""
        echo "ðŸ“ 8ì›”3ì£¼ì°¨ í´ë” í™•ì¸:"
        if [ -d "8ì›”3ì£¼ì°¨" ]; then
          echo "âœ… 8ì›”3ì£¼ì°¨ í´ë” ì¡´ìž¬"
          ls -la "8ì›”3ì£¼ì°¨/"
          echo ""
          echo "ðŸ“„ 8ì›”3ì£¼ì°¨/README.md í™•ì¸:"
          if [ -f "8ì›”3ì£¼ì°¨/README.md" ]; then
            echo "âœ… 8ì›”3ì£¼ì°¨/README.md ì¡´ìž¬"
            echo "íŒŒì¼ í¬ê¸°: $(stat -c%s "8ì›”3ì£¼ì°¨/README.md") bytes"
            echo "ì²« 5ì¤„:"
            head -5 "8ì›”3ì£¼ì°¨/README.md"
          else
            echo "âŒ 8ì›”3ì£¼ì°¨/README.md ì—†ìŒ"
          fi
        else
          echo "âŒ 8ì›”3ì£¼ì°¨ í´ë” ì—†ìŒ"
        fi
        echo ""
        echo "ðŸ” í•œê¸€ í´ë”ëª… ë¬¸ì œ í™•ì¸:"
        ls -la | grep -E "(ì›”|ì£¼ì°¨)" || echo "í•œê¸€ í´ë” ì—†ìŒ"
        
    - name: ðŸ§ª íŒŒì¼ ìƒì„± í…ŒìŠ¤íŠ¸
      run: |
        echo "ðŸ§ª íŒŒì¼ ìƒì„± í…ŒìŠ¤íŠ¸"
        echo "=================="
        
        # 8ì›”3ì£¼ì°¨ í´ë”ê°€ ì—†ìœ¼ë©´ ìƒì„±
        if [ ! -d "8ì›”3ì£¼ì°¨" ]; then
          echo "ðŸ“ 8ì›”3ì£¼ì°¨ í´ë” ìƒì„±"
          mkdir -p "8ì›”3ì£¼ì°¨"
        fi
        
        # README.mdê°€ ì—†ìœ¼ë©´ ìƒì„±
        if [ ! -f "8ì›”3ì£¼ì°¨/README.md" ]; then
          echo "ðŸ“„ README.md ìƒì„±"
          cat > "8ì›”3ì£¼ì°¨/README.md" << 'EOF'
# 8ì›”3ì£¼ì°¨ - GitHub Actions í…ŒìŠ¤íŠ¸

ì´ íŒŒì¼ì€ GitHub Actionsì—ì„œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.

## í…ŒìŠ¤íŠ¸ ì •ë³´
- ìƒì„± ì‹œê°„: $(date)
- í™˜ê²½: GitHub Actions Ubuntu

## ê¸°ë³¸ êµ¬ì¡°
- íŒŒì¼ ìƒì„± í…ŒìŠ¤íŠ¸ ì™„ë£Œ
EOF
        else
          echo "âœ… README.md ì´ë¯¸ ì¡´ìž¬"
        fi
        
        echo "âœ… í…ŒìŠ¤íŠ¸ ì™„ë£Œ"
        
    - name: ðŸ” ìƒì„± í›„ í™•ì¸
      run: |
        echo "ðŸ” ìƒì„± í›„ ìƒíƒœ í™•ì¸"
        echo "=================="
        echo "ðŸ“ 8ì›”3ì£¼ì°¨ ë‚´ìš©:"
        ls -la "8ì›”3ì£¼ì°¨/" || echo "í´ë” ì—†ìŒ"
        echo ""
        echo "ðŸ“„ README.md ë‚´ìš© í™•ì¸:"
        if [ -f "8ì›”3ì£¼ì°¨/README.md" ]; then
          echo "âœ… íŒŒì¼ ì¡´ìž¬"
          echo "ë‚´ìš©:"
          cat "8ì›”3ì£¼ì°¨/README.md"
        else
          echo "âŒ íŒŒì¼ ì—†ìŒ"
        fi
        
    - name: ðŸ” Git ìƒíƒœ í™•ì¸
      run: |
        echo "ðŸ” Git ìƒíƒœ í™•ì¸"
        echo "==============="
        git status
        echo ""
        echo "ðŸ“Š ìµœê·¼ ì»¤ë°‹:"
        git log --oneline -3
        echo ""
        echo "ðŸ”„ ì›ê²©ê³¼ ë¹„êµ:"
        git fetch origin
        git status